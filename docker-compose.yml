services:
  server:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        AIKI_PORT: ${AIKI_PORT:-9090}
    container_name: aiki-server
    ports:
      - "${AIKI_PORT:-9090}:${AIKI_PORT:-9090}"
    environment:
      AIKI_PORT: ${AIKI_PORT:-9090}
      AIKI_HOST: 0.0.0.0
      LOG_LEVEL: ${LOG_LEVEL:-info}
      REDIS_HOST: ${REDIS_HOST:-host.docker.internal}
      REDIS_PORT: ${REDIS_PORT:-6379}
    restart: unless-stopped
